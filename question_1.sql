SELECT * FROM( 
SELECT SALARY, RANK() OVER (PARTITION BY DEPARTMENT_ID ORDER BY SALARY DESC) AS RN
FROM HR.EMPLOYEES
ORDER BY SALARY, RN
)WHERE RN=1